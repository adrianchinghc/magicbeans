<div class="page-header">
    <h1>Listing users</h1>
</div>

<div class="table-responsive">
  <table class="table table-condensed">
        <thead>
            <tr>
                <th>Name</th>
                <th>IC Number</th>
                <th>HP Number</th>
                <th>Email</th>
                <th width="130px">Actions</th>
            </tr>
        </thead>

        <tbody>
        <% @users.each do |user| %>
            <tr>
                <td><%= user.name %></td>
                <td><%= user.ic %></td>
                <td><%= user.phone %></td>
                <td><%= user.email %></td>
                <td width="130px">
                  <% if can? :show, user %>
                    <%= link_to '<span class="glyphicon glyphicon-search" aria-hidden="true"></span>'.html_safe, user, class:"btn btn-sm btn-info" %>
                  <% end %>

                  <% if can? :update, user %>
                    <%= link_to '<span class="glyphicon glyphicon-edit" aria-hidden="true"></span>'.html_safe,  edit_user_path(user), class:"btn btn-sm btn-warning" %>
                  <% end %>

                  <% if can? :destroy, user %>
                    <%= link_to '<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>'.html_safe, user, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-sm btn-danger" %>
                  <% end %>
                </td>
            </tr>
        <% end %>
        </tbody>
  </table>
</div>

<% if can? :create, @user %>
<div class="form-group">
    <%= link_to 'New User', new_user_path, class: "btn btn-sm btn-success" %>
</div>
<% end %>